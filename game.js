var minim=null,sou=null,gameStart=!1,ballActive=$p.createJavaArray("boolean",[3]),bunny=$p.random(30,300),rectSize=100,topColor=4288063231,bottomColor=4288063231,z=100,dz=1,img2=null,img1=null,img=null,x=$p.createJavaArray("float",[3]),y=$p.createJavaArray("float",[3]),speedx=$p.createJavaArray("float",[3]),speedy=$p.createJavaArray("float",[3]),numberOfBalls=0;
function setup(){minim=new Minim(this);sou=minim.loadFile("bunny.mp3");sou.loop();$p.size(500,500);$p.noStroke();$p.smooth();img1=$p.loadImage("galax.jpg");img=$p.loadImage("bunny.png");ballActive[0]=!0;ballActive[1]=!1;ballActive[2]=!1;numberOfBalls=1;x[0]=250;y[0]=250;speedx[0]=$p.random(3,6);speedy[0]=$p.random(3,6)}$p.setup=setup;
function draw(){$p.background(0);$p.image(img1,-500,-500);$p.image(img,z,100);z+=dz;400<z&&(dz=-1);100>z&&(dz=1);for(var a=0;3>a;a++)if(ballActive[a]){$p.fill(4288063231);$p.ellipse(x[a],y[a],20,20);gameStart&&(x[a]+=speedx[a],y[a]+=speedy[a]);y[a]>$p.height-30&&x[a]<$p.height-20&&x[a]>$p.mouseX-rectSize/2&&x[a]<$p.mouseX+rectSize/2?(speedy[a]*=-1,y[a]+=speedy[a],bottomColor=255):2>y[a]?(speedy[a]*=-1,y[a]+=speedy[a],topColor=255):bottomColor=topColor=4288063231;if(x[a]>$p.width-10||10>x[a])speedx[a]*=
-1,x[a]+=speedx[a];y[a]>$p.height&&(numberOfBalls--,ballActive[a]=!1,0==numberOfBalls&&(gameStart=!1,numberOfBalls=1,x[0]=250,y[0]=250,speedx[0]=$p.random(3,6),speedy[0]=$p.random(3,6),rectSize=100,ballActive[0]=!0,ballActive[1]=!1,ballActive[2]=!1));if(x[a]<=z+20&&x[a]>=z-20&&80<=y[a]&&120>=y[a]&&($p.println("hei"),img2=$p.loadImage("bunny_pink.png"),$p.image(img2,z,100),3>numberOfBalls)){numberOfBalls++;var b=0,b=ballActive[0]?ballActive[1]?2:1:0;x[b]=z;y[b]=100;speedx[b]=$p.random(3,6);speedy[b]=
$p.random(3,6);ballActive[b]=!0}}$p.fill(topColor);$p.rect(0,0,$p.width,20);$p.fill(bottomColor);$p.rect($p.mouseX-rectSize/2,$p.height-30,rectSize,10)}$p.draw=draw;function mousePressed(){gameStart=!gameStart}$p.mousePressed=mousePressed;
